<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description"><meta name="keywords"><title>(ES6) - 03 arrow 함수 - windfanta.github.io/blog</title><link rel="stylesheet" href="./css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com/windfanta"><span>Github</span></a></li><li><a href="https://www.flickr.com/photos/69582358@N06/"><span>flickr</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="http://callfiles.ueibo.com/hexo-theme-laughing/post_background.jpg"><div class="post-title"><h1 class="title">(ES6) - 03 arrow 함수</h1><ul class="meta"><li><i class="icon icon-author"></i>SUNGMIN SHIN</li><li><i class="icon icon-clock"></i>27 Minutes</li><li><i class="icon icon-calendar"></i>2017년 9월 13일</li></ul></div></div><div class="article-content" style="max-width:800px"><h1 id="ECMA-Script6"><a href="#ECMA-Script6" class="headerlink" title="[ ECMA Script6 ]"></a>[ ECMA Script6 ]</h1><p>(<a href="http://book.naver.com/bookdb/book_detail.nhn?bid=11556385" target="_blank" rel="noopener">http://book.naver.com/bookdb/book_detail.nhn?bid=11556385</a>)</p>
<p><br></p>
<h1 id="3-1-개요"><a href="#3-1-개요" class="headerlink" title="3.1 개요"></a>3.1 개요</h1><hr>
<p>arrow 함수(이하 화살표 함수)는 함수 선언식( function(param){code} )의 형태를 축약한 것으로 아래와 같은 형식으로 작성합니다.</p>
<blockquote>
<p>(param) =&gt; { code };<br>param =&gt; { code };<br>() =&gt; { code };<br>(param1, param2, param3, , , paramN) =&gt; { code };<br>param =&gt; ( {key: value} );<br>(param1, param2, param3, …rest) =&gt; { code };<br>(param1, param2 = 123, , , paramN) =&gt; { code };<br>([one, two] = {1,2}) =&gt; one + two;<br>({key:value} = {key: 10 + 20}) =&gt; { code };</p>
</blockquote>
<p>화살표 함수는 익명함수로 호출하기 위해서는 함수 표현식과 같이 변수에 할당해야 합니다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> func1 = <span class="function">(<span class="params">param</span>) =&gt;</span>  &#123; code &#125;;</span><br></pre></td></tr></table></figure></p>
<p>화살표 함수는 function 키워드보다 간단하게 선언할 수 있어 편리하지만 <strong>모든 경우에 사용할 수 없으며 함수가 실행되는 환경을 고려해야 합니다.</strong></p>
<p><br></p>
<h1 id="3-2-ES5-형태와-차이"><a href="#3-2-ES5-형태와-차이" class="headerlink" title="3.2 ES5 형태와 차이"></a>3.2 ES5 형태와 차이</h1><hr>
<p>ES5<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [ 소스 arrow - 11 ] */</span></span><br><span class="line"><span class="keyword">var</span> es5 = <span class="function"><span class="keyword">function</span>(<span class="params">one, two</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> one + two;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> sum = es5(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum);</span><br></pre></td></tr></table></figure></p>
<p>화살표 함수<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [ 소스 arrow - 12 ] */</span></span><br><span class="line"><span class="keyword">let</span> arrow1 = <span class="function">(<span class="params">one, two</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> one + two</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> arrow2 = <span class="function">(<span class="params">one, two</span>) =&gt;</span> one + two;</span><br><span class="line"><span class="keyword">let</span> sum1 = arrow1(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">let</span> sum2 = arrow2(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum1);</span><br><span class="line"><span class="built_in">console</span>.log(sum2);</span><br></pre></td></tr></table></figure></p>
<p>기능은 동일하고 단지 작성 형태가 다른 코드로 위 코드는 다음의 순서와 방법으로 작성한 것 입니다.</p>
<blockquote>
<ol>
<li>화살표 함수로 생성한 function 오브젝트를 할당한 변수(es6)를 작성</li>
<li>function 키워드를 사용하지 않음</li>
<li>소괄호() 안에 파라미터 이름(one, two)을 작성</li>
<li>이어서 화살표(=&gt;)를 작성</li>
<li>화살표 앞뒤의 공백은 띄던 붙이던 상관없음</li>
<li>함수 블록{} 을 작성하고 그 안에 코드를 작성</li>
</ol>
</blockquote>
<p><br></p>
<h1 id="3-3-블록-파라미터"><a href="#3-3-블록-파라미터" class="headerlink" title="3.3 블록, 파라미터"></a>3.3 블록, 파라미터</h1><hr>
<p>화살표 함수는 함수 블럭{}을 사용하지 않고 한 줄에 작성할 수 있습니다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [ 소스 arrow - 21 ] */</span></span><br><span class="line"><span class="comment">// 함수 블록을 사용하지 않은 형태의 화살표 함수</span></span><br><span class="line"><span class="keyword">let</span> arrow = <span class="function">(<span class="params">one, two</span>) =&gt;</span> one + two;</span><br><span class="line"><span class="keyword">let</span> sum = arrow(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum);</span><br></pre></td></tr></table></figure></p>
<p>화살표 함수 arrow에서 괄호 안의 (one, two)는 파라미터이며 화살표 뒤의 one + two가 return 값으로 return문을 생략한 것입니다. 함수 블럭을 사용하지 않을 경우 화살표 다음에 줄바꿈을 한다면 에러가 발생합니다.</p>
<p>받는 파라미터가 1개라면 소괄호를 제외하고 value만 작성해도 무방합니다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [ 소스 arrow - 22 ] */</span></span><br><span class="line"><span class="comment">// 받는 파라미터가 1개라면 소괄호 생략 가능</span></span><br><span class="line"><span class="keyword">let</span> get = <span class="function"><span class="params">value</span> =&gt;</span> value + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">let</span> result = get(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></p>
<p>받는 파라미터가 없다면 소괄호만 작성합니다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [ 소스 arrow - 23 ] */</span></span><br><span class="line"><span class="comment">// 받는 파라미터가 1개라면 괄호 생략 가능</span></span><br><span class="line"><span class="keyword">let</span> noParam = <span class="function"><span class="params">()</span> =&gt;</span> <span class="number">3</span> + <span class="number">4</span>;</span><br><span class="line"><span class="keyword">let</span> result = noParam();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h1 id="3-4-return"><a href="#3-4-return" class="headerlink" title="3.4 return"></a>3.4 return</h1><hr>
<p>화살표 함수에서 {key: value} 형태의 오브젝트를 반환하려면 소괄호 안에 넣어 작성합니다.</p>
<p>아래 예제는 sports() 함수를 호출하면 {key: value}형태의 빈 오브젝트를 반환 받는 것이 목적 입니다.<br>하지만 여기서는 undefined가 반환 됩니다. 이는 화살표 다음의 블록{}을 함수 블록으로 인식하고 함수 블록 안에 return 문을 작성하지 않은 것으로 인식하기 때문 입니다.<br>그리고 다른 함수와 마찬가지로 return문을 작성하지 않으면 기본적으로 undefined를 반환합니다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [ 소스 arrow - 31 ] */</span></span><br><span class="line"><span class="comment">// 빈 오브젝트를 반환 받는 화살표 함수 사용의 잘못된 예</span></span><br><span class="line"><span class="keyword">let</span> sports = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> result = sports();</span><br><span class="line"></span><br><span class="line"><span class="comment">// undefined 반환</span></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></p>
<p>화살표 함수에서 오브젝트를 반환하려면 소괄호() 안에 {}의 형태로 작성합니다. JS는 소괄호 안의 코드를 표현식으로 인식하여 평가하고 평가결과를 반환 합니다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [ 소스 arrow - 32 ] */</span></span><br><span class="line"><span class="comment">// 빈 오즈벡트를 반환 받는 화살표 함수의 예</span></span><br><span class="line"><span class="keyword">let</span> sports = <span class="function"><span class="params">()</span> =&gt;</span> (&#123;&#125;);</span><br><span class="line"><span class="keyword">let</span> result = sports();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 빈 오브젝트 반환</span></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></p>
<iframe scrolling="no" width="100%" height="280px" src="//jsfiddle.net/gjpvpu6r/embedded/js,html,result/dark" frameborder="0" allowfullscreen></iframe>
<p><br></p>
<h1 id="3-5-new-연산자"><a href="#3-5-new-연산자" class="headerlink" title="3.5 new 연산자"></a>3.5 new 연산자</h1><hr>
<p><u>화살표 함수는 new 연산자로 인스턴스를 생성할 수 없습니다</u><br>new 연산자를 사용하려면 함수에 prototype이 연결되어 있어야 하고 여기에 constructor가 연결되어 있어야 하지만 화살표 함수로 작성된 함수는 연결되어 있지 않으므로 new 연산자로 인스턴스를 생성할 수 없습니다.</p>
<blockquote>
<p>__proto__ 빌트인에 function 오브젝트의 prototype에 연결된 메서드가 첨부됩니다. apply()는 function 오브젝트의 prototype에 연결되어 있습니다. 이 형태는 화살표 함수가 함수라는 것을 의미합니다. 화살표 함수는 함수지만 특별한 형태의 함수 입니다.</p>
</blockquote>
<p><br></p>
<h1 id="3-6-arguments-사용"><a href="#3-6-arguments-사용" class="headerlink" title="3.6 arguments 사용"></a>3.6 arguments 사용</h1><hr>
<p>화살표 함수 블록에서는 arguments 프로퍼티를 사용할 수 없습니다.</p>
<blockquote>
<p>arguments 프로퍼티 참고<br>(<a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/arguments" target="_blank" rel="noopener">https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/arguments</a>)</p>
</blockquote>
<p>화살표 함수에서는 아래와 같이 에러가 발생하지는 않지만 사용은 불가능<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [ 소스 arrow-41 ] */</span></span><br><span class="line"><span class="keyword">let</span> sports = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(args);</span><br><span class="line">  &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'사용 불가'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">sports(<span class="number">1</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure></p>
<p>함수 선언문으로는 사용가능<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sports = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(args);</span><br><span class="line">  &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'사용 불가'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">sports(<span class="number">1</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure></p>
<p>es6에선 arguments 대신 rest 파라미터를 사용합니다. rest파라미터는 ( …rest ) 점 세개를 작성하고 이어서 파라미터 이름 표기하여 작성 합니다. (rest 파라미터에 대한 자세한 내용은 이후에 다룹니다)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// rest 파라미터로 임의의 파라미터를 전달 받음</span></span><br><span class="line"><span class="keyword">let</span> sports = <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// rest 파라미터는 배열 형태로 반환</span></span><br><span class="line">    <span class="built_in">console</span>.log(args);</span><br><span class="line">  &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'사용 불가'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">sports(<span class="number">1</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure></p>
<iframe scrolling="no" width="100%" height="280px" src="//jsfiddle.net/4s6d5v29/embedded/js,html,result/dark" frameborder="0" allowfullscreen></iframe>
<blockquote>
<p>rest 파라미터 참고<br>(<a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/rest_parameters" target="_blank" rel="noopener">https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/rest_parameters</a>)</p>
</blockquote>
<p><br></p>
<h1 id="3-7-3-8-this-setTimeout-화살표-함수"><a href="#3-7-3-8-this-setTimeout-화살표-함수" class="headerlink" title="3.7 - 3.8 this, setTimeout(), 화살표 함수"></a>3.7 - 3.8 this, setTimeout(), 화살표 함수</h1><hr>
<p>화살표 함수는 간단하게 코드를 작성할 수 있어 편리하지만 <u>this의 참조를 고려해야 합니다.</u></p>
<p>일반 함수에서의 setTimeout()과 this<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [소스 arrow-51] */</span></span><br><span class="line"><span class="keyword">let</span> Sports = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.count = <span class="number">20</span>;</span><br><span class="line">&#125;;</span><br><span class="line">Sports.prototype = &#123;</span><br><span class="line">  plus: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.count+= <span class="number">1</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 외부에서의 this는 Sports</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">// 내부에서의 this는 window (setTimeout이 window 오브젝트 함수라서)</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">window</span>);</span><br><span class="line">      <span class="comment">// window.plus를 참조하기 때문에 undefined(window는 Object이므로)</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.plus);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newSports = <span class="keyword">new</span> Sports();</span><br><span class="line">newSports.get();</span><br></pre></td></tr></table></figure></p>
<p>setTimeout()은 window 오브젝트 함수이므로 setTimeout 내부 함수에서는 this가 window를 참조하게 됩니다.<br><br></p>
<p>화살표 함수에서의 setTimeout()과 this<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [소스 arrow-61] */</span></span><br><span class="line"><span class="keyword">let</span> Sports = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.count = <span class="number">20</span>;</span><br><span class="line">&#125;;</span><br><span class="line">Sports.prototype = &#123;</span><br><span class="line">  plus: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.count+= <span class="number">1</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// setTimeout 밖에서의 this를 변수로 선언</span></span><br><span class="line">    <span class="keyword">let</span> self = <span class="keyword">this</span>;</span><br><span class="line">    setTimeout( <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// setTimeout 밖의 this와 비교</span></span><br><span class="line">      <span class="built_in">console</span>.log(self === <span class="keyword">this</span>);</span><br><span class="line">      <span class="keyword">this</span>.plus();</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.count);</span><br><span class="line">    &#125;, <span class="number">1000</span> );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newSports = <span class="keyword">new</span> Sports();</span><br><span class="line">newSports.get();</span><br></pre></td></tr></table></figure></p>
<p>예제와 같이 화살표 함수로 작성하면 화살표 함수 블록에서 this가 Sports를 참조하는 것을 확인할 수 있습니다.</p>
<p><br></p>
<h1 id="3-9-prototype"><a href="#3-9-prototype" class="headerlink" title="3.9 prototype"></a>3.9 prototype</h1><hr>
<p>prototype에 화살표 함수를 연결하면 화살표 함수 블록에서 this가 인스턴스를 참조하지 못합니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* [소스 arrow-71] */</span></span><br><span class="line"><span class="keyword">let</span> Sports = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.count = <span class="number">20</span>;</span><br><span class="line">&#125;;</span><br><span class="line">Sports.prototype = &#123;</span><br><span class="line">  add: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// prototype내 화살표 함수에서는 this가 window를 참조</span></span><br><span class="line">    <span class="keyword">this</span>.count+= <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">window</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> newSports = <span class="keyword">new</span> Sports();</span><br><span class="line"></span><br><span class="line">newSports.add();</span><br><span class="line"><span class="built_in">console</span>.log(newSports.count);</span><br><span class="line"><span class="comment">// 여기서 값이 'NaN'으로 출력되는 이유는 undefined + 1의 계산이기 때문</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.count);</span><br></pre></td></tr></table></figure>
<p>화살표 함수인 add()를 newSports.add()의 형태로 호출할 때 newSports의 프로퍼티 count를 참조하지 않고 window.count를 참조하게 됩니다.<br>prototype에 화살표 함수를 연결하면 this가 메서드를 호출하는 인스턴스 대신 window 오브젝트를 참조하게 되므로 화살표 함수가 아닌 function 키워드 함수를 prototype에 연결해서 사용해야 합니다.</p>
<p><br></p>
<h1 id="요약"><a href="#요약" class="headerlink" title="요약"></a>요약</h1><hr>
<h2 id="화살표-함수"><a href="#화살표-함수" class="headerlink" title="화살표 함수"></a>화살표 함수</h2><blockquote>
<ul>
<li>화살표 함수는 function 키워드보다 간단하게 사용할 수 있지만 모든 경우에 사용할 수 없으며 실행되는 환경이 고려되어야 한다.</li>
<li>작성 방식은 함수의 형태에 따라 매우 다양하다</li>
<li>오브젝트를 반환하려면 소괄호()안에 블록{}을 넣는 형태로 작성해야 한다.</li>
<li>new 연산자를 통한 인스턴스 생성이 불가능하다.</li>
<li>arguments 프로퍼티를 사용할 수 없다. (rest 파라미터로 대체할 수 있음)</li>
<li>function 키워드와 달리 자신의 this객체를 생성하지 않기 때문에 사용 상 주의가 필요하다</li>
<li>prototype에서 this가 인스턴스를 참조하지 못한다.</li>
</ul>
</blockquote>
</div><div class="article-meta" style="max-width:800px"><div class="categories"><i class="icon icon-category"></i><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="./categories/study/">study</a><span class="category-list-count">37</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="./categories/study/ES6/">ES6</a><span class="category-list-count">9</span></li></ul></li></ul></div></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="./2017/09/14/study-es5-11/"><i class="icon icon-arror-left"></i></a></li><li><a href="./2017/09/13/study-es6-2/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/windfanta" title="Github" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="https://www.flickr.com/photos/69582358@N06/" title="flickr" target="_blank"><i class="icon icon-flickr"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2018 windfanta.github.io/blog<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small><small>, THEME BY <a href="https://github.com/BoizZ/hexo-theme-laughing" target="_blank">LAUGHING</a></small></p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>